<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="edu.cslg.easyshopping.dao.StuffDao">
	<resultMap id="stuffMap" type="edu.cslg.easyshopping.pojo.Stuff">
		<id property="id" column="id"/>
		<result property="faceImg" column="faceImg"/>
		<result property="oppositeImg" column="oppositeImg"/>
		<result property="handImg" column="handImg"/>
		<result property="stuffStatus" column="stuffStatus"/>
		<result property="reason" column="reason"/>
		<association property="seller" column="seller_id" select="edu.cslg.easyshopping.dao.SellerDao.getSellerById"/>
	</resultMap>

	<insert id="saveStuff" parameterType="edu.cslg.easyshopping.pojo.Stuff">
		INSERT INTO t_stuff VALUES (NULL ,#{faceImg},#{oppositeImg},#{handImg},#{stuffStatus},#{reason},#{seller.id})
	</insert>
	<select id="listStuffByStatus" resultMap="stuffMap">
		SELECT * FROM t_stuff WHERE stuffStatus = FALSE ;
	</select>
</mapper>